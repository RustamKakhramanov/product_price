# Symfony REST-приложение для расчета цены продукта и проведения оплаты

Реализованы 2 эндпоинта, произведена валидация полей, использованы сущности и репозитории:
1. POST: для расчёта цены

http://127.0.0.1:8337/calculate-price

Пример JSON тела запроса:
```
{
    "product": 1,
    "taxNumber": "DE123456789",
    "couponCode": "D15"
}
```
Ответ : {"price":101.15}

2. POST: для осуществления покупки

http://127.0.0.1:8337/purchase

Пример JSON тела запроса:
```
{
    "product": 1,
    "taxNumber": "IT12345678900",
    "couponCode": "D15",
    "paymentProcessor": "paypal"
}
```
Ответ : {"message":"Payment successful"}


## Сделал кастомный валидатор для аннотации
Форматы налоговых номеров для разных стран:
- DEXXXXXXXXX - Германия
- ITXXXXXXXXXXX - Италия
- GRXXXXXXXXX - Греция
- FRYYXXXXXXXXX - Франция

где X - любая цифра от 0 до 9, Y - любая буква. Длина налогового номера различается в зависимости от страны.


### Выполнены пункты
- Расширенная контейнеризация
- Использование сущностей, PostgreSQL
- Наличие PHPUnit тестов
- Соответствие кода принципам SOLID
- Поэтапное оформление коммитов
- Сделал сидинг данных через сущности DataFixtures

### Погрешности
- Начал с выполнения бизнес-логики, а не написания тестов (ждал ответа от менеджера)


